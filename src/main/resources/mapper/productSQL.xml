<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="product">

	<select id="selectProductList" resultType="pro">
	select * from
		(select rownum as rnum, b.* from
		(select
			p.product_no as productNo,
			expert_no as expertNo,
            (select expert_Name from expert_tbl e where p.expert_no=e.expert_no) as expertName,
			product_type as productType,
			product_title as productTitle,
            product_Category as productCategory,
			product_intro as productIntro,
			product_tag as productTag,
			product_content as productContent,
			cost,
			product_qst as productQst,
			product_ans as productAns,
			product_addr as productAddr,
			sale
			from product_tbl p order by p.product_no desc)b)
        	where rnum between #{start} and #{end}       
	</select>

	<select id="selectTotalCount" resultType="int">
		select count(*) from product_tbl
  </select>
	<!-- 윤지 -->
	<select id="selectOneProduct" parameterType="int" resultType="pro">
		select
			product_no as productNo,
			product_type as productType,
			product_title as productTitle,
	        product_Category as productCategory,
			product_intro as productIntro,
			product_tag as productTag,
			product_content as productContent,
			cost,
			product_qst as productQst,
			product_ans as productAns,
			product_addr as productAddr,
			sale
		from product_tbl 
        where product_no=#{productNo}
	</select>
	
	<!-- 윤지 -->
	<select id="selectAllReview" resultType="review">
		select
			REVIEW_NO as reviewNo,
			PAY_NO as payNo,
			MEMBER_NO memberNO,
			REVIEW_TITLE reviewTitle,
			REVIEW_CONTENT reviewContent,
			REVIEW_STAR reviewStar
		from review_tbl	

	</select>
</mapper>
	